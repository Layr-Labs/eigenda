<!-- Code generated by config_document_generator.go. DO NOT EDIT BY HAND. -->

# Controller Configuration

## Required Fields

| Name | Type | Description |
|------|------|-------------|
| $${\color{red}\texttt{AwsClientConfig.AccessKey}}$$<br>`CONTROLLER_AWS_CLIENT_CONFIG_ACCESS_KEY` | `string` | AccessKey to use when interacting with S3. |
| $${\color{red}\texttt{AwsClientConfig.EndpointURL}}$$<br>`CONTROLLER_AWS_CLIENT_CONFIG_ENDPOINT_URL` | `string` | EndpointURL of the S3 endpoint to use. If this is not set then the default AWS S3 endpoint will be used. |
| $${\color{red}\texttt{AwsClientConfig.Region}}$$<br>`CONTROLLER_AWS_CLIENT_CONFIG_REGION` | `string` | Region is the region to use when interacting with S3. Default is "us-east-2". |
| $${\color{red}\texttt{AwsClientConfig.SecretAccessKey}}$$<br>`CONTROLLER_AWS_CLIENT_CONFIG_SECRET_ACCESS_KEY` | `string` | SecretAccessKey to use when interacting with S3. |
| $${\color{red}\texttt{ChainStateConfig.Endpoint}}$$<br>`CONTROLLER_CHAIN_STATE_CONFIG_ENDPOINT` | `string` | The Graph endpoint |
| $${\color{red}\texttt{DynamoDBTableName}}$$<br>`CONTROLLER_DYNAMO_DB_TABLE_NAME` | `string` | The name of the DynamoDB table to use for storing blob metadata. |
| $${\color{red}\texttt{EigenDAContractDirectoryAddress}}$$<br>`CONTROLLER_EIGEN_DA_CONTRACT_DIRECTORY_ADDRESS` | `string` | The EigenDA contract directory address. |
| $${\color{red}\texttt{EthClientConfig.PrivateKeyString}}$$<br>`CONTROLLER_ETH_CLIENT_CONFIG_PRIVATE_KEY_STRING` | `string` | PrivateKeyString is the private key used for signing transactions. |
| $${\color{red}\texttt{EthClientConfig.RPCURLs}}$$<br>`CONTROLLER_ETH_CLIENT_CONFIG_RPCURLS` | `[]string` | RPCURLs is a list of RPC URLs to connect to the Ethereum network. |

## Optional Fields

| Name | Type<br>Default | Description |
|------|--------------|-------------|
| $${\color{red}\texttt{AttestationTimeout}}$$<br>`CONTROLLER_ATTESTATION_TIMEOUT` | `time.Duration`<br>`45s` | AttestationTimeout is the maximum time to wait for a single node to provide a signature. Must be positive. |
| $${\color{red}\texttt{AwsClientConfig.FragmentParallelismConstant}}$$<br>`CONTROLLER_AWS_CLIENT_CONFIG_FRAGMENT_PARALLELISM_CONSTANT` | `int`<br>`0` | FragmentParallelismConstant helps determine the size of the pool of workers to help upload/download files. A non-zero value for this parameter adds a constant number of workers. Default is 0. |
| $${\color{red}\texttt{AwsClientConfig.FragmentParallelismFactor}}$$<br>`CONTROLLER_AWS_CLIENT_CONFIG_FRAGMENT_PARALLELISM_FACTOR` | `int`<br>`8` | FragmentParallelismFactor helps determine the size of the pool of workers to help upload/download files. A non-zero value for this parameter adds a number of workers equal to the number of cores times this value. Default is 8. In general, the number of workers here can be a lot larger than the number of cores because the workers will be blocked on I/O most of the time. |
| $${\color{red}\texttt{BatchAttestationTimeout}}$$<br>`CONTROLLER_BATCH_ATTESTATION_TIMEOUT` | `time.Duration`<br>`55s` | BatchAttestationTimeout is the maximum time to wait for all nodes to provide signatures for a batch. Must be positive and must be longer or equal to the AttestationTimeout. |
| $${\color{red}\texttt{BatchMetadataUpdatePeriod}}$$<br>`CONTROLLER_BATCH_METADATA_UPDATE_PERIOD` | `time.Duration`<br>`1m0s` | BatchMetadataUpdatePeriod is the interval between attempts to refresh batch metadata (reference block number and operator state). Since this changes at most once per eth block, values shorter than 10 seconds are not useful. In practice, checking every several minutes is sufficient. Must be positive. |
| $${\color{red}\texttt{ChainStateConfig.MaxRetries}}$$<br>`CONTROLLER_CHAIN_STATE_CONFIG_MAX_RETRIES` | `int`<br>`5` | The maximum number of retries to pull data from The Graph |
| $${\color{red}\texttt{ChainStateConfig.PullInterval}}$$<br>`CONTROLLER_CHAIN_STATE_CONFIG_PULL_INTERVAL` | `time.Duration`<br>`2s` | The interval to pull data from The Graph |
| $${\color{red}\texttt{ControllerReadinessProbePath}}$$<br>`CONTROLLER_CONTROLLER_READINESS_PROBE_PATH` | `string`<br>`"/tmp/controller-ready"` | The path for the controller readiness probe. |
| $${\color{red}\texttt{DispersalRequestSignerConfig.Endpoint}}$$<br>`CONTROLLER_DISPERSAL_REQUEST_SIGNER_CONFIG_ENDPOINT` | `string`<br>`""` | Endpoint is an optional custom AWS KMS endpoint URL. If empty, the standard AWS KMS endpoint is used. This is primarily useful for testing with LocalStack or other custom KMS implementations. Default is empty. |
| $${\color{red}\texttt{DispersalRequestSignerConfig.KeyID}}$$<br>`CONTROLLER_DISPERSAL_REQUEST_SIGNER_CONFIG_KEY_ID` | `string`<br>`""` | KeyID is the AWS KMS key identifier used for signing requests. Optional if PrivateKey is provided. |
| $${\color{red}\texttt{DispersalRequestSignerConfig.PrivateKey}}$$<br>`CONTROLLER_DISPERSAL_REQUEST_SIGNER_CONFIG_PRIVATE_KEY` | `string`<br>`""` | PrivateKey is a hex-encoded private key for local signing (without 0x prefix). Optional if KeyID is provided. |
| $${\color{red}\texttt{DispersalRequestSignerConfig.Region}}$$<br>`CONTROLLER_DISPERSAL_REQUEST_SIGNER_CONFIG_REGION` | `string`<br>`""` | Region is the AWS region where the KMS key is located (e.g., "us-east-1"). Required if using KMS. |
| $${\color{red}\texttt{DisperserStoreChunksSigningDisabled}}$$<br>`CONTROLLER_DISPERSER_STORE_CHUNKS_SIGNING_DISABLED` | `bool`<br>`false` | If true, disables signing of disperser store chunks. |
| $${\color{red}\texttt{EnableGrpcServer}}$$<br>`CONTROLLER_ENABLE_GRPC_SERVER` | `bool`<br>`true` | Enables/disables the gRPC server |
| $${\color{red}\texttt{EnablePaymentAuthentication}}$$<br>`CONTROLLER_ENABLE_PAYMENT_AUTHENTICATION` | `bool`<br>`true` | If true, use the new payment authentication system running on the controller. If false, payment authentication is disabled and request validation will always fail |
| $${\color{red}\texttt{EncodingManagerConfig.AvailableRelays}}$$<br>`CONTROLLER_ENCODING_MANAGER_CONFIG_AVAILABLE_RELAYS` | `[]uint32`<br>`[]` | AvailableRelays is the list of relay keys that can be assigned to blobs. Must not be empty. |
| $${\color{red}\texttt{EncodingManagerConfig.EncoderAddress}}$$<br>`CONTROLLER_ENCODING_MANAGER_CONFIG_ENCODER_ADDRESS` | `string`<br>`""` | EncoderAddress is the network address of the encoder service (e.g., "localhost:50051"). Must not be empty. |
| $${\color{red}\texttt{EncodingManagerConfig.EncodingRequestTimeout}}$$<br>`CONTROLLER_ENCODING_MANAGER_CONFIG_ENCODING_REQUEST_TIMEOUT` | `time.Duration`<br>`5m0s` | EncodingRequestTimeout is the maximum time to wait for a single encoding request to complete. Must be positive. |
| $${\color{red}\texttt{EncodingManagerConfig.MaxNumBlobsPerIteration}}$$<br>`CONTROLLER_ENCODING_MANAGER_CONFIG_MAX_NUM_BLOBS_PER_ITERATION` | `int32`<br>`128` | MaxNumBlobsPerIteration is the maximum number of blobs to pull and encode in each iteration. Must be at least 1. |
| $${\color{red}\texttt{EncodingManagerConfig.NumConcurrentRequests}}$$<br>`CONTROLLER_ENCODING_MANAGER_CONFIG_NUM_CONCURRENT_REQUESTS` | `int`<br>`250` | NumConcurrentRequests is the size of the worker pool for processing encoding requests concurrently. Must be at least 1. |
| $${\color{red}\texttt{EncodingManagerConfig.NumEncodingRetries}}$$<br>`CONTROLLER_ENCODING_MANAGER_CONFIG_NUM_ENCODING_RETRIES` | `int`<br>`3` | NumEncodingRetries is the number of times to retry encoding a blob after the initial attempt fails. A value of 0 means no retries (only the initial attempt). Must be non-negative. |
| $${\color{red}\texttt{EncodingManagerConfig.NumRelayAssignment}}$$<br>`CONTROLLER_ENCODING_MANAGER_CONFIG_NUM_RELAY_ASSIGNMENT` | `uint16`<br>`1` | NumRelayAssignment is the number of relays to assign to each blob. Must be at least 1 and cannot exceed the length of AvailableRelays. |
| $${\color{red}\texttt{EncodingManagerConfig.OnchainStateRefreshInterval}}$$<br>`CONTROLLER_ENCODING_MANAGER_CONFIG_ONCHAIN_STATE_REFRESH_INTERVAL` | `time.Duration`<br>`1h0m0s` | OnchainStateRefreshInterval is how frequently the manager refreshes blob version parameters from the chain. Must be positive. |
| $${\color{red}\texttt{EncodingManagerConfig.PullInterval}}$$<br>`CONTROLLER_ENCODING_MANAGER_CONFIG_PULL_INTERVAL` | `time.Duration`<br>`2s` | PullInterval is how frequently the EncodingManager polls for new blobs to encode. Must be positive. |
| $${\color{red}\texttt{EncodingManagerConfig.StoreTimeout}}$$<br>`CONTROLLER_ENCODING_MANAGER_CONFIG_STORE_TIMEOUT` | `time.Duration`<br>`15s` | StoreTimeout is the maximum time to wait for blob metadata store operations. Must be positive. |
| $${\color{red}\texttt{EthClientConfig.NumConfirmations}}$$<br>`CONTROLLER_ETH_CLIENT_CONFIG_NUM_CONFIRMATIONS` | `int`<br>`10` | NumConfirmations is the number of confirmations to wait for when submitting write transactions. |
| $${\color{red}\texttt{EthClientConfig.NumRetries}}$$<br>`CONTROLLER_ETH_CLIENT_CONFIG_NUM_RETRIES` | `int`<br>`2` | NumRetries is the number of retries for RPC calls in case of failure. |
| $${\color{red}\texttt{FinalizationBlockDelay}}$$<br>`CONTROLLER_FINALIZATION_BLOCK_DELAY` | `uint64`<br>`75` | FinalizationBlockDelay is the number of blocks to wait before using operator state. This provides a hedge against chain reorganizations. |
| $${\color{red}\texttt{GrpcPort}}$$<br>`CONTROLLER_GRPC_PORT` | `uint16`<br>`32010` | Port that the gRPC server listens on |
| $${\color{red}\texttt{HeartbeatMonitorConfig.FilePath}}$$<br>`CONTROLLER_HEARTBEAT_MONITOR_CONFIG_FILE_PATH` | `string`<br>`"/tmp/controller-health"` | FilePath is the path to the file where heartbeat status will be written. Required. |
| $${\color{red}\texttt{HeartbeatMonitorConfig.MaxStallDuration}}$$<br>`CONTROLLER_HEARTBEAT_MONITOR_CONFIG_MAX_STALL_DURATION` | `time.Duration`<br>`4m0s` | MaxStallDuration is the maximum time allowed between heartbeats before a component is considered stalled. Required. |
| $${\color{red}\texttt{IndexerPullInterval}}$$<br>`CONTROLLER_INDEXER_PULL_INTERVAL` | `time.Duration`<br>`1s` | The duration between indexer pulls |
| $${\color{red}\texttt{LogFormat}}$$<br>`CONTROLLER_LOG_FORMAT` | `string`<br>`"json"` | The format for logging output ('text' or 'json'). |
| $${\color{red}\texttt{LogLevel}}$$<br>`CONTROLLER_LOG_LEVEL` | `int`<br>`-4` | The logging level. LevelDebug Level = -4 LevelInfo Level = 0 LevelWarn Level = 4 LevelError Level = 8 |
| $${\color{red}\texttt{MaxBatchSize}}$$<br>`CONTROLLER_MAX_BATCH_SIZE` | `int32`<br>`32` | MaxBatchSize is the maximum number of blobs to include in a single batch for dispersal. Must be at least 1. |
| $${\color{red}\texttt{MaxGrpcMessageSize}}$$<br>`CONTROLLER_MAX_GRPC_MESSAGE_SIZE` | `uint32`<br>`1048576` | Maximum size of a gRPC message that the server will accept (in bytes) |
| $${\color{red}\texttt{MaxIdleConnectionAge}}$$<br>`CONTROLLER_MAX_IDLE_CONNECTION_AGE` | `time.Duration`<br>`5m0s` | Maximum time a connection can be idle before it is closed. |
| $${\color{red}\texttt{MetricsPort}}$$<br>`CONTROLLER_METRICS_PORT` | `int`<br>`9101` | The port to expose metrics on. |
| $${\color{red}\texttt{NodeClientCacheSize}}$$<br>`CONTROLLER_NODE_CLIENT_CACHE_SIZE` | `int`<br>`400` | NodeClientCacheSize is the maximum number of node clients to cache for reuse. Must be at least 1. |
| $${\color{red}\texttt{NumConcurrentRequests}}$$<br>`CONTROLLER_NUM_CONCURRENT_REQUESTS` | `int`<br>`600` | NumConcurrentRequests is the size of the worker pool for processing dispersal requests concurrently. Must be at least 1. |
| $${\color{red}\texttt{NumRequestRetries}}$$<br>`CONTROLLER_NUM_REQUEST_RETRIES` | `int`<br>`0` | NumRequestRetries is the number of times to retry dispersing to a node after the initial attempt fails. The current implementation has performance issues, so this should typically be 0 (no retries). Must be non-negative. |
| $${\color{red}\texttt{PaymentAuthorizationConfig.OnDemandConfig.MaxLedgers}}$$<br>`CONTROLLER_PAYMENT_AUTHORIZATION_CONFIG_ON_DEMAND_CONFIG_MAX_LEDGERS` | `int`<br>`1024` | The maximum number of OnDemandLedger entries to be kept in the LRU cache |
| $${\color{red}\texttt{PaymentAuthorizationConfig.OnDemandConfig.OnDemandTableName}}$$<br>`CONTROLLER_PAYMENT_AUTHORIZATION_CONFIG_ON_DEMAND_CONFIG_ON_DEMAND_TABLE_NAME` | `string`<br>`""` | The name of the dynamo table where on-demand payment information is stored |
| $${\color{red}\texttt{PaymentAuthorizationConfig.OnDemandConfig.UpdateInterval}}$$<br>`CONTROLLER_PAYMENT_AUTHORIZATION_CONFIG_ON_DEMAND_CONFIG_UPDATE_INTERVAL` | `time.Duration`<br>`30s` | Interval for checking for payment updates |
| $${\color{red}\texttt{PaymentAuthorizationConfig.ReservationConfig.BucketCapacityPeriod}}$$<br>`CONTROLLER_PAYMENT_AUTHORIZATION_CONFIG_RESERVATION_CONFIG_BUCKET_CAPACITY_PERIOD` | `time.Duration`<br>`1m15s` | Duration used to calculate bucket capacity when creating new reservation ledgers |
| $${\color{red}\texttt{PaymentAuthorizationConfig.ReservationConfig.MaxLedgers}}$$<br>`CONTROLLER_PAYMENT_AUTHORIZATION_CONFIG_RESERVATION_CONFIG_MAX_LEDGERS` | `int`<br>`1024` | The maximum number of ReservationLedger entries to be kept in the LRU cache. This may be automatically increased at runtime if premature ledger evictions are detected by the underlying cache. |
| $${\color{red}\texttt{PaymentAuthorizationConfig.ReservationConfig.OverfillBehavior}}$$<br>`CONTROLLER_PAYMENT_AUTHORIZATION_CONFIG_RESERVATION_CONFIG_OVERFILL_BEHAVIOR` | `ratelimit.OverfillBehavior`<br>`overfillOncePermitted` | How to handle requests that would overfill the bucket |
| $${\color{red}\texttt{PaymentAuthorizationConfig.ReservationConfig.UpdateInterval}}$$<br>`CONTROLLER_PAYMENT_AUTHORIZATION_CONFIG_RESERVATION_CONFIG_UPDATE_INTERVAL` | `time.Duration`<br>`30s` | Interval for checking for payment updates |
| $${\color{red}\texttt{PullInterval}}$$<br>`CONTROLLER_PULL_INTERVAL` | `time.Duration`<br>`1s` | PullInterval is how frequently the controller polls for new encoded blobs to batch and dispatch. Must be positive. |
| $${\color{red}\texttt{RequestMaxFutureAge}}$$<br>`CONTROLLER_REQUEST_MAX_FUTURE_AGE` | `time.Duration`<br>`3m0s` | Maximum age of a request in the future that the server will accept. Requests with timestamps too far in the future will be rejected. |
| $${\color{red}\texttt{RequestMaxPastAge}}$$<br>`CONTROLLER_REQUEST_MAX_PAST_AGE` | `time.Duration`<br>`5m0s` | Maximum age of a request in the past that the server will accept. Requests older than this will be rejected to prevent replay attacks. |
| $${\color{red}\texttt{SignatureTickInterval}}$$<br>`CONTROLLER_SIGNATURE_TICK_INTERVAL` | `time.Duration`<br>`50ms` | SignatureTickInterval is how frequently attestations are updated in the blob metadata store as signature gathering progresses. Must be positive. |
| $${\color{red}\texttt{SignificantSigningMetricsThresholds}}$$<br>`CONTROLLER_SIGNIFICANT_SIGNING_METRICS_THRESHOLDS` | `[]string`<br>`[0.55 0.67]` | SignificantSigningMetricsThresholds are signing thresholds for metrics reporting. Values should be decimal strings between "0.0" (0% signed) and "1.0" (100% signed). Example: []string{"0.55", "0.67"} |
| $${\color{red}\texttt{SignificantSigningThresholdPercentage}}$$<br>`CONTROLLER_SIGNIFICANT_SIGNING_THRESHOLD_PERCENTAGE` | `uint8`<br>`55` | SignificantSigningThresholdPercentage is a configurable "important" signing threshold percentage. Used to track signing metrics and understand system performance. If the value is 0, special handling for this threshold is disabled. Must be between 0 and 100. |
| $${\color{red}\texttt{UseGraph}}$$<br>`CONTROLLER_USE_GRAPH` | `bool`<br>`true` | Whether to use The Graph for chain state queries. |

